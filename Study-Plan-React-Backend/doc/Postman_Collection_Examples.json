{
  "info": {
    "name": "Study Plan Generator API",
    "description": "Complete API collection for Study Plan Generator with workflow examples",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://127.0.0.1:8000",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "test_user_{{$randomUUID}}",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Phase 1: Initial Plan Generation",
      "item": [
        {
          "name": "1. User Greeting",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"hi\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6,\n  \"reset_chat\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "Initial greeting to start the conversation. System should respond with welcome message and ask for preferences."
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"user_id\": \"test_user_123\",\n  \"user_message\": \"hi\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6,\n  \"reset_chat\": true\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{base_url}}/chat",
                  "host": ["{{base_url}}"],
                  "path": ["chat"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"user_id\": \"test_user_123\",\n  \"assistant_message\": \"Hello there! I'm ready to help you craft your personalized study plan for JEE Mains.\\n\\nI see you're planning to study for 8 months, dedicating 6 hours daily across Mathematics, Physics, and Chemistry, covering 30 chapters in total. That's a great foundation!\\n\\nNow, to make this plan perfectly suited for *you*, I'd love to know a bit more about your learning style and priorities:\\n\\n* **Subject Focus:** Do you want to focus more on any particular subjects, like Physics or Mathematics, or perhaps dedicate extra time to Chemistry?\\n* **Chapter Priority:** Are there specific chapters you'd like to prioritize, cover first, or perhaps spend more time on?\\n* **Study Preferences:** Do you have any special study preferences, constraints, or learning styles I should consider?\\n\\nLet me know your thoughts, and we'll build a fantastic plan together! Once you're ready for me to create the plan, just say 'generate' or 'create plan'!\",\n  \"is_plan_generated\": false,\n  \"study_plan\": null,\n  \"chat_context\": {\n    \"1\": {\n      \"user_message\": \"hi\",\n      \"assistant_message\": \"Hello there! I'm ready to help you craft your personalized study plan for JEE Mains...\"\n    }\n  }\n}"
            }
          ]
        },
        {
          "name": "2. Express Subject Preferences",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"I am weak at mathematics so please focus more on it\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "User expresses subject preference for mathematics. System should acknowledge and ask for more details."
          }
        },
        {
          "name": "3. Trigger Plan Generation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"generate\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "User triggers plan generation. System should create complete study plan with mathematics prioritized and move to feedback phase."
          }
        }
      ],
      "description": "Phase 1 covers the initial conversation and plan generation process."
    },
    {
      "name": "Phase 2: Feedback and Refinement",
      "item": [
        {
          "name": "4. Request Subject Time Changes",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"The plan looks good but I want more time for physics and less for chemistry\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "User requests changes to subject time allocation. System should provide expert analysis with pros/cons, not immediately regenerate."
          }
        },
        {
          "name": "5. Request Chapter Reordering",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"Can we do physics Chapter_3 before Chapter_1?\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "User requests chapter reordering. System should provide dependency analysis and impact assessment."
          }
        },
        {
          "name": "6. Implement Changes (Re-edit)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"re-edit the plan\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "User decides to implement the discussed changes. System should regenerate the plan with all accumulated feedback and present the updated version."
          }
        }
      ],
      "description": "Phase 2 covers the feedback collection and expert analysis process."
    },
    {
      "name": "Phase 3: Finalization",
      "item": [
        {
          "name": "7. Finalize Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"finalize\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "User finalizes the study plan. System should save the plan to database and provide congratulatory message with next steps."
          }
        },
        {
          "name": "8. Alternative Finalization - 'Yes this is final'",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"{{user_id}}\",\n  \"user_message\": \"yes this is final\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "Alternative finalization phrase. System should recognize this as finalization trigger and save the plan."
          }
        }
      ],
      "description": "Phase 3 covers the finalization process and database storage."
    },
    {
      "name": "Chat History Management",
      "item": [
        {
          "name": "Get Chat History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chat-history/{{user_id}}?target_exam=JEE Mains&study_plan_type=Custom",
              "host": ["{{base_url}}"],
              "path": ["chat-history", "{{user_id}}"],
              "query": [
                {
                  "key": "target_exam",
                  "value": "JEE Mains"
                },
                {
                  "key": "study_plan_type",
                  "value": "Custom"
                }
              ]
            },
            "description": "Retrieve stored chat history for a specific user."
          }
        },
        {
          "name": "Clear Chat History",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chat-history/{{user_id}}?target_exam=JEE Mains&study_plan_type=Custom",
              "host": ["{{base_url}}"],
              "path": ["chat-history", "{{user_id}}"],
              "query": [
                {
                  "key": "target_exam",
                  "value": "JEE Mains"
                },
                {
                  "key": "study_plan_type",
                  "value": "Custom"
                }
              ]
            },
            "description": "Clear stored chat history for a specific user."
          }
        },
        {
          "name": "Get Chat Storage Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chat-storage-status",
              "host": ["{{base_url}}"],
              "path": ["chat-storage-status"]
            },
            "description": "Get overview of all stored chat histories in the system."
          }
        }
      ],
      "description": "Endpoints for managing chat history and storage."
    },
    {
      "name": "Advanced Examples",
      "item": [
        {
          "name": "Complex Preference Example",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"advanced_user_{{$randomUUID}}\",\n  \"user_message\": \"I want to focus on mathematics and physics, spend more time on Chapter_3 and Chapter_5 in physics, and do chemistry Chapter_2 before Chapter_1\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\", \"Chapter_6\", \"Chapter_7\", \"Chapter_8\", \"Chapter_9\", \"Chapter_10\"]\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6,\n  \"reset_chat\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "Complex preference extraction example with multiple types of preferences in a single message."
          }
        },
        {
          "name": "Weightage-based Planning",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"weightage_user_{{$randomUUID}}\",\n  \"user_message\": \"generate\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Priority Based\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\"]\n  },\n  \"number_of_months\": 6,\n  \"hours_per_day\": 4,\n  \"reset_chat\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "Example using weightage-based planning instead of syllabus coverage."
          }
        },
        {
          "name": "Error Handling - Invalid Syllabus",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"error_test_{{$randomUUID}}\",\n  \"user_message\": \"generate\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [],\n    \"physics\": [],\n    \"chemistry\": []\n  },\n  \"number_of_months\": 8,\n  \"hours_per_day\": 6,\n  \"reset_chat\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/chat",
              "host": ["{{base_url}}"],
              "path": ["chat"]
            },
            "description": "Test error handling with empty syllabus."
          }
        }
      ],
      "description": "Advanced examples and edge cases for testing."
    },
    {
      "name": "Legacy Endpoint",
      "item": [
        {
          "name": "Generate Study Plan (Legacy)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"legacy_user_{{$randomUUID}}\",\n  \"target_exam\": \"JEE Mains\",\n  \"study_plan_type\": \"Custom\",\n  \"preparation_type\": \"Syllabus Coverage\",\n  \"syllabus\": {\n    \"mathematics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\"],\n    \"physics\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\"],\n    \"chemistry\": [\"Chapter_1\", \"Chapter_2\", \"Chapter_3\", \"Chapter_4\", \"Chapter_5\"]\n  },\n  \"number_of_months\": 6,\n  \"hours_per_day\": 4,\n  \"user_message\": \"I want to focus on mathematics\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/generate-study-plan",
              "host": ["{{base_url}}"],
              "path": ["generate-study-plan"]
            },
            "description": "Legacy endpoint for direct study plan generation without conversation."
          }
        }
      ],
      "description": "Legacy endpoint for backward compatibility."
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Set dynamic user ID if not already set",
          "if (!pm.collectionVariables.get('user_id') || pm.collectionVariables.get('user_id').includes('{{$randomUUID}}')) {",
          "    pm.collectionVariables.set('user_id', 'test_user_' + pm.variables.replaceIn('{{$randomUUID}}'));",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Basic response validation",
          "pm.test('Status code is 200', function () {",
          "    pm.response.to.have.status(200);",
          "});",
          "",
          "pm.test('Response has required fields', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('user_id');",
          "    pm.expect(jsonData).to.have.property('assistant_message');",
          "    pm.expect(jsonData).to.have.property('is_plan_generated');",
          "});",
          "",
          "// Log response for debugging",
          "console.log('Response:', pm.response.json());"
        ]
      }
    }
  ]
}